!function(i){function p(e,s){"gamipress_asgaros_forum_specific_forum_like_post"===e||"gamipress_asgaros_forum_specific_forum_new_post"===e||"gamipress_asgaros_forum_specific_forum_new_topic"===e||"gamipress_asgaros_forum_specific_forum_dislike_post"===e||"gamipress_asgaros_forum_specific_forum_vote_up_post"===e||"gamipress_asgaros_forum_specific_forum_vote_down_post"===e||"gamipress_asgaros_forum_specific_forum_answer_question"===e?(s.show().data("trigger-type",e).data("post-type","asgaros_forum"),s.hasClass("select2-hidden-accessible")?s.val("").trigger("change").next().show():(s.gamipress_select2({ajax:{url:ajaxurl,dataType:"json",delay:250,type:"POST",data:function(e){return{q:e.term,page:e.page||1,action:"gamipress_asgaros_forum_get_posts",nonce:gamipress_requirements_ui.nonce,post_type:i(this).data("post-type").split(","),trigger_type:i(this).data("trigger-type")}},processResults:gamipress_select2_posts_process_results},escapeMarkup:function(e){return e},templateResult:gamipress_select2_posts_template_result,theme:"default gamipress-select2",placeholder:gamipress_requirements_ui.post_placeholder,allowClear:!0,multiple:!1}),s.on("select2:select",function(e){e=e.params.data;void 0!==e.site_id&&i(this).siblings(".select-post-site-id").val(e.site_id)}))):(s.hide(),s.hasClass("select2-hidden-accessible")&&s.next().hide())}function o(e,s){"gamipress_asgaros_forum_specific_topic_new_post"===e||"gamipress_asgaros_forum_specific_topic_like_post"===e||"gamipress_asgaros_forum_specific_topic_dislike_post"===e||"gamipress_asgaros_forum_specific_topic_vote_up_post"===e||"gamipress_asgaros_forum_specific_topic_vote_down_post"===e?(s.show().data("trigger-type",e).data("post-type","asgaros_topic"),s.hasClass("select2-hidden-accessible")?s.val("").trigger("change").next().show():(s.gamipress_select2({ajax:{url:ajaxurl,dataType:"json",delay:250,type:"POST",data:function(e){return{q:e.term,page:e.page||1,action:"gamipress_asgaros_forum_get_posts",nonce:gamipress_requirements_ui.nonce,post_type:i(this).data("post-type").split(","),trigger_type:i(this).data("trigger-type")}},processResults:gamipress_select2_posts_process_results},escapeMarkup:function(e){return e},templateResult:gamipress_select2_posts_template_result,theme:"default gamipress-select2",placeholder:gamipress_requirements_ui.post_placeholder,allowClear:!0,multiple:!1}),s.on("select2:select",function(e){e=e.params.data;void 0!==e.site_id&&i(this).siblings(".select-post-site-id").val(e.site_id)}))):(s.hide(),s.hasClass("select2-hidden-accessible")&&s.next().hide())}i(".cmb2-id-asgaros-forum-points-types .cmb2-list, .cmb2-id-asgaros-forum-achievement-types .cmb2-list, .cmb2-id-asgaros-forum-rank-types .cmb2-list").sortable({handle:"label",placeholder:"ui-state-highlight",forcePlaceholderSize:!0}),i(".requirements-list").on("change",".select-trigger-type",function(){var e=i(this).val(),s=i(this).siblings(".asgaros-forum"),t=i(this).siblings(".asgaros-topic");p(e,s),o(e,t)}),i(".requirements-list li").each(function(){var e=i(this).find(".select-trigger-type").val(),s=i(this).find(".asgaros-forum"),t=i(this).find(".asgaros-topic");p(e,s),o(e,t)}),i(".requirements-list").on("update_requirement_data",".requirement-row",function(e,s,t){"gamipress_asgaros_forum_specific_forum_like_post"!==s.trigger_type&&"gamipress_asgaros_forum_specific_forum_new_post"!==s.trigger_type&&"gamipress_asgaros_forum_specific_forum_new_topic"!==s.trigger_type&&"gamipress_asgaros_forum_specific_forum_dislike_post"!==s.trigger_type&&"gamipress_asgaros_forum_specific_forum_vote_up_post"!==s.trigger_type&&"gamipress_asgaros_forum_specific_forum_vote_down_post"!==s.trigger_type&&"gamipress_asgaros_forum_specific_forum_answer_question"!==s.trigger_type||(s.asgaros_forum=t.find(".asgaros-forum").val()),"gamipress_asgaros_forum_specific_topic_new_post"!==s.trigger_type&&"gamipress_asgaros_forum_specific_topic_like_post"!==s.trigger_type&&"gamipress_asgaros_forum_specific_topic_dislike_post"!==s.trigger_type&&"gamipress_asgaros_forum_specific_topic_vote_up_post"!==s.trigger_type&&"gamipress_asgaros_forum_specific_topic_vote_down_post"!==s.trigger_type||(s.asgaros_topic=t.find(".asgaros-topic").val())})}(jQuery);